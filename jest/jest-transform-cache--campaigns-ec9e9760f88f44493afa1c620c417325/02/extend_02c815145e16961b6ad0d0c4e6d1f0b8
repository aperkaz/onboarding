"use strict";var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {return typeof obj;} : function (obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;}; /**
                                                                                                                                                                                                                                                                                        * @depend util/core.js
                                                                                                                                                                                                                                                                                        */
(function (sinonGlobal) {
    "use strict";

    function makeApi(sinon) {

        // Adapted from https://developer.mozilla.org/en/docs/ECMAScript_DontEnum_attribute#JScript_DontEnum_Bug
        var hasDontEnumBug = function () {
            var obj = {
                constructor: function constructor() {
                    return "0";
                },
                toString: function toString() {
                    return "1";
                },
                valueOf: function valueOf() {
                    return "2";
                },
                toLocaleString: function toLocaleString() {
                    return "3";
                },
                prototype: function prototype() {
                    return "4";
                },
                isPrototypeOf: function isPrototypeOf() {
                    return "5";
                },
                propertyIsEnumerable: function propertyIsEnumerable() {
                    return "6";
                },
                hasOwnProperty: function hasOwnProperty() {
                    return "7";
                },
                length: function length() {
                    return "8";
                },
                unique: function unique() {
                    return "9";
                } };


            var result = [];
            for (var prop in obj) {
                if (obj.hasOwnProperty(prop)) {
                    result.push(obj[prop]());
                }
            }
            return result.join("") !== "0123456789";
        }();

        /* Public: Extend target in place with all (own) properties from sources in-order. Thus, last source will
              *         override properties in previous sources.
              *
              * target - The Object to extend
              * sources - Objects to copy properties from.
              *
              * Returns the extended target
              */
        function extend(target /*, sources */) {
            var sources = Array.prototype.slice.call(arguments, 1);
            var source, i, prop;

            for (i = 0; i < sources.length; i++) {
                source = sources[i];

                for (prop in source) {
                    if (source.hasOwnProperty(prop)) {
                        target[prop] = source[prop];
                    }
                }

                // Make sure we copy (own) toString method even when in JScript with DontEnum bug
                // See https://developer.mozilla.org/en/docs/ECMAScript_DontEnum_attribute#JScript_DontEnum_Bug
                if (hasDontEnumBug && source.hasOwnProperty("toString") && source.toString !== target.toString) {
                    target.toString = source.toString;
                }
            }

            return target;
        }

        sinon.extend = extend;
        return sinon.extend;
    }

    function loadDependencies(require, exports, module) {
        var sinon = require("./util/core");
        module.exports = makeApi(sinon);
    }

    var isNode = typeof module !== "undefined" && module.exports && typeof require === "function";
    var isAMD = typeof define === "function" && _typeof(define.amd) === "object" && define.amd;

    if (isAMD) {
        define(loadDependencies);
        return;
    }

    if (isNode) {
        loadDependencies(require, module.exports, module);
        return;
    }

    if (sinonGlobal) {
        makeApi(sinonGlobal);
    }
})(
(typeof sinon === "undefined" ? "undefined" : _typeof(sinon)) === "object" && sinon // eslint-disable-line no-undef
);